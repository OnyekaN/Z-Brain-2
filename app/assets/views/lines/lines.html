<!--lines/lines.html-->
<div class="lines-container">

	<div class="sidebar">

		<sidebar-component
			lines="$ctrl.lines"
			masks="$ctrl.masks"
			on-update-line="$ctrl.updateLine(line)"
			on-update-mask="$ctrl.updateMask(mask, color)"
			on-update-color-channel="$ctrl.updateColorChannel(line, color)"
			on-adjust-line="$ctrl.adjustLine(line, brightness, gamma)">
		</sidebar-component>

	</div>

	<div class="viewer">

		<div id="spin">
		</div>

		<ui-view><!--viewer-component inserted here--></ui-view>

	</div>

	<div class="upload">
	
		<div class="upload-container">
			<button class="upload-close" ng-click="$ctrl.closeUploadDialog()">X</button>	
			<div class="upload-info">
				<p>You can upload up to 138 <code>numbered</code> JPEGs or PNGs to view
				them in the Z-Brain's image viewer.</p>
				<p>If you have TIF stacks, an easy way to convert them to
				JPEGs or PNGs, using <a href="https://fiji.sc/"
				target=_blank>Fiji</a> or <a href="https://imagej.nih.gov/ij/"
				target=_blank>ImageJ</a>, is to:</p>
				<ol>
					<li>Open the TIF stack</li>
					<li>File > Save As > Image Sequence</li>
					<li>Format: PNG or JPEG</li>
					<li>Done</li>
				</ol>
				<p>And then use the file upload button to import the
				result.</p>

				<form ng-submit="$ctrl.uploadFiles()" class="upload-form">
					<div class="input-upload-wrapper">
						<button class="input-upload-button">Upload Images</button>
						<input type="file" name="files" ngf-select 
							class="input-upload" ng-model="$ctrl.files"
							accept=".jpg, .jpeg, .png"
							multiple="multiple"/>
					</div>
					<div class="input-upload-wrapper">
						<button class="input-upload-button">Submit</button>
						<input type="submit" value="Submit"/>
					</div>
					<input type="text" class="input-line-name"
						ng-model="$ctrl.uploadName"
						placeholder="Line Name (Optional)">
					</input>
					<span ng-show="$ctrl.files.length">{{$ctrl.files.length}} images</span>
				</form>
			</div>
		</div>

	</div>

	<div class="annotations">

		<annotations-component
			line-name="$ctrl.lineName"
			annotations="$ctrl.annotations">
		</annotations-component>	

	</div>
</div>
