<div>

	<div class="menu-title" style="z-index:1000;background-color:#ddd;padding-left:5px;">
		<span style="color:black;font-family:serif;"><b>Menu</b></span>
	</div>

	<div class="inner">

		<div class="lines-ctrls">	

			<div class="ui-select-container lines">
				<ui-select class="search-dropdown lines"
					ng-model="$ctrl.selected"
					on-select="$ctrl.onUpdateLineWrapper({line: $ctrl.selected});$ctrl.gaEvent()"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="Search Lines">
						{{$ctrl.selected}}
					</ui-select-match>
					<ui-select-choices repeat="line in $ctrl.mainLines | filter:$select.search" 
						value="'{{::line}}'">{{::line}}</ui-select-choices>
				</ui-select>
			</div>

			<input type="file" id="upload" name="pic" accept="image/*" 
				style="display:none" multiple/>

			<a href="images/4-TiffStacks/{{$ctrl.selected}}.tif" download>
				<button class="download-line">Download</button>
			</a>			
			<div style="margin-left:20px;margin-top:10px;">
				<form autocomplete="off" ng-submit="$ctrl.onAdjustLine({line: $ctrl.selected,
						brightness: $ctrl.brightness, gamma: $ctrl.gamma})">

					<span style="font-size: 0.8em"><em>Adjust Brightness</em></span>
					<div>
						<input type="number" step="any"
					 	id="brightness-input" class="img-modify-input"  
					 	ng-model="$ctrl.brightness">
					</div>	

					<span style="font-size: 0.8em"><em>Adjust Gamma</em></span>
					<div>
						<input type="number" step="any"
					 	id="gamma-input" class="img-modify-input"
					 	ng-model="$ctrl.gamma"/>
					</div>

					<div style="margin-top:0.2em">
						<button ng-hide="true" ng-click="$ctrl.onAdjustLine({line: $ctrl.selected,
							brightness: $ctrl.brightness, gamma: $ctrl.gamma})">Submit</button>
						<button
						style="border-radius:1px;margin-left:0px;margin-top:10px;min-width:70px;""color:#146ec8dd;"
							ng-click="$ctrl.resetValues()">Reset</button>
					</div>				
				</form>
			
				<a href="#/overview">
					<button class="overview-button">Lines Overview</button>
				</a>
			</div>
		</div>

		<div class="regions-ctrls"> 

			<div class="ui-select-container">
				<ui-select class="search-dropdown cyan"
					ng-model="$ctrl.selectedMasks.cyan"
					on-select="$ctrl.onUpdateMask({mask: $ctrl.selectedMasks.cyan, color:'cyan'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="Search Regions" allow-clear="true">
						{{$ctrl.selectedMasks.cyan}}
					</ui-select-match>
					<ui-select-choices repeat="mask in $ctrl.masks | filter:$select.search" 
						value="'{{::mask}}'">{{::mask}}</ui-select-choices>
				</ui-select>
			</div>

			<div class="ui-select-container">
				<ui-select class="search-dropdown magenta"
					ng-model="$ctrl.selectedMasks.magenta"
					on-select="$ctrl.onUpdateMask({mask: $ctrl.selectedMasks.magenta, color:'magenta'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="{{::$ctrl.placeholder}}" allow-clear="true">
						{{$ctrl.selectedMasks.magenta}}
					</ui-select-match>
					<ui-select-choices repeat="mask in $ctrl.masks | filter:$select.search" 
						value="'{{::mask}}'">{{::mask}}</ui-select-choices>
				</ui-select>
			</div>

			<div class="ui-select-container">
				<ui-select class="search-dropdown green"
					ng-model="$ctrl.selectedMasks.green"
					on-select="$ctrl.onUpdateMask({mask: $ctrl.selectedMasks.green, color:'green'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="{{::$ctrl.placeholder}}" allow-clear="true">
						{{$ctrl.selectedMasks.green}}
					</ui-select-match>
					<ui-select-choices repeat="mask in $ctrl.masks | filter:$select.search" 
						value="'{{::mask}}'">{{::mask}}</ui-select-choices>
				</ui-select>
			</div>

			<div class="ui-select-container">
				<ui-select class="search-dropdown yellow"
					ng-model="$ctrl.selectedMasks.yellow"
					on-select="$ctrl.onUpdateMask({mask: $ctrl.selectedMasks.yellow, color:'yellow'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="{{::$ctrl.placeholder}}" allow-clear="true">
						{{$ctrl.selectedMasks.yellow}}
					</ui-select-match>
					<ui-select-choices repeat="mask in $ctrl.masks | filter:$select.search" 
						value="'{{::mask}}'">{{::mask}}</ui-select-choices>
				</ui-select>
			</div>

		</div>

		<div class="channel-ctrls">	
		
			<div class="ui-select-container">
				<ui-select class="search-dropdown red"
					ng-model="$ctrl.selectedColorChannels.red"
					on-select="$ctrl.onUpdateColorChannel({line: $ctrl.selectedColorChannels.red, color:'red'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="Search Color Channels" allow-clear="true">
						{{$ctrl.selectedColorChannels.red}}
					</ui-select-match>
					<ui-select-choices repeat="line in $ctrl.lines | filter:$select.search" 
						value="'{{::line}}'">{{::line}}</ui-select-choices>
				</ui-select>
				<input type="range" class="red-overlay slider"
					ng-show="!!$ctrl.selectedColorChannels.red" min="0" max="90" 
					ng-change="$ctrl.onUpdateOpacity({val:
					$ctrl.colorChannelOpacities.red,	color:'red'})"
					ng-model="$ctrl.colorChannelOpacities.red"/>
			</div>

			<div class="ui-select-container">
				<ui-select class="search-dropdown blue"
					ng-model="$ctrl.selectedColorChannels.blue"
					on-select="$ctrl.onUpdateColorChannel({line: $ctrl.selectedColorChannels.blue, color:'blue'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="{{::$ctrl.placeholder}}" allow-clear="true">
						{{$ctrl.selectedColorChannels.blue}}
					</ui-select-match>
					<ui-select-choices repeat="line in $ctrl.lines | filter:$select.search" 
						value="'{{::line}}'">{{::line}}</ui-select-choices>
				</ui-select>
				<input type="range" class="blue-overlay slider"
					ng-show="!!$ctrl.selectedColorChannels.blue" min="0" max="90" 
					ng-change="$ctrl.onUpdateOpacity({val:
					$ctrl.colorChannelOpacities.blue,	color:'blue'})"
					ng-model="$ctrl.colorChannelOpacities.blue"/>
			</div>

			<div class="ui-select-container">
				<ui-select class="search-dropdown green"
					ng-model="$ctrl.selectedColorChannels.green"
					on-select="$ctrl.onUpdateColorChannel({line: $ctrl.selectedColorChannels.green, color:'green'})"
					on-remove="console.log('removed')">
					<ui-select-match placeholder="{{::$ctrl.placeholder}}" allow-clear="true">
						{{$ctrl.selectedColorChannels.green}}
					</ui-select-match>
					<ui-select-choices repeat="line in $ctrl.lines | filter:$select.search" 
						value="'{{::line}}'">{{::line}}</ui-select-choices>
				</ui-select>
				<input type="range" class="green-overlay slider"
					ng-show="!!$ctrl.selectedColorChannels.green" min="0" max="90" 
					ng-change="$ctrl.onUpdateOpacity({val:
					$ctrl.colorChannelOpacities.green,	color:'green'})"
					ng-model="$ctrl.colorChannelOpacities.green"/>
			</div>

		</div>
	</div>

</div>



